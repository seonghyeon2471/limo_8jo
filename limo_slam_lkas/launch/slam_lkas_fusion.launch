<launch>
  <node pkg="limo_slam_lkas" type="slam_lkas_fusion.py" name="slam_lkas_fusion" output="screen">

    <!-- ê¸°ë³¸ ìž…ë ¥ -->
    <param name="path_topic" value="/move_base/NavfnROS/plan"/>
    <param name="image_topic" value="/camera/image_raw"/>
    <param name="scan_topic" value="/scan"/>
    <param name="imu_topic" value="/imu"/>

    <param name="base_frame" value="base_link"/>
    <param name="map_frame" value="map"/>

    <!-- ì£¼ê¸° í–¥ìƒ (ë¶€ë“œëŸ¬ì›€) -->
    <param name="rate" value="15"/>

    <!-- ìž…ë ¥ ì—†ìœ¼ë©´ ë©ˆì¶¤ -->
    <param name="stop_when_no_input" value="true"/>

    <!-- ìœµí•© ê°€ì¤‘ì¹˜ -->
    <param name="alpha_lane" value="0.55"/>

    <!-- ì†ë„ ì„¤ì • -->
    <param name="max_speed" value="0.35"/>
    <param name="min_speed" value="0.12"/>
    <param name="lane_speed" value="0.28"/>
    <param name="no_lane_speed" value="0.20"/>

    <!-- ì¡°í–¥ ë²”ìœ„ -->
    <param name="max_angular" value="1.2"/>

    <!-- ê°€ê°ì† ì œí•œ -->
    <param name="max_lin_acc" value="0.25"/>
    <param name="max_lin_dec" value="0.35"/>
    <param name="max_ang_rate" value="1.5"/>

    <!-- path lookahead -->
    <param name="distance_ahead" value="0.9"/>
    <param name="distance_ahead_hi" value="1.3"/>

    <!-- ì»¤ë¸Œ ê°ì† -->
    <param name="turn_slowdown_k" value="0.9"/>

    <!-- ìž¡ìŒ ì œê±° -->
    <param name="deadzone_angle" value="0.05"/>

    <!-- í•„í„° -->
    <param name="lpf_lane_alpha" value="0.5"/>
    <param name="lpf_path_alpha" value="0.5"/>
    <param name="lpf_steer_alpha" value="0.6"/>
    <param name="lpf_speed_alpha" value="0.5"/>

    <!-- lane ì‹ ë¢° ì„¤ì • -->
    <param name="lane_detect_timeout" value="0.6"/>
    <param name="lane_ok_hold" value="0.5"/>

    <!-- ðŸš§ ì „ë°© ìž¥ì• ë¬¼ ì •ì§€ (LiDAR) -->
    <param name="stop_distance" value="0.35"/>          <!-- ì´ ê±°ë¦¬ ì•ˆì— ìž¥ì• ë¬¼ â†’ STOP -->
    <param name="obstacle_clear_distance" value="0.40"/> <!-- ì´ ê±°ë¦¬ ë„˜ìœ¼ë©´ ë‹¤ì‹œ ì£¼í–‰ -->
    <param name="front_angle_deg" value="25"/>          <!-- ì „ë°© Â±25ë„ ê°ì‹œ -->

    <!-- ðŸ›‘ í‘œì§€ ë§ˆì»¤ ì •ì§€ (ì‚¬ì§„ í…œí”Œë¦¿ ë§¤ì¹­) -->
    <!-- ë§ˆì»¤ ì´ë¯¸ì§€ ê²½ë¡œ (ì›í•˜ëŠ” ì´ë¯¸ì§€ ë„£ê³  ìˆ˜ì •) -->
    <param name="marker_template_path" value="/home/agilex/markers/stop_marker.png"/>
    <param name="marker_match_threshold" value="0.75"/>  <!-- ë§¤ì¹­ ìŠ¤ì½”ì–´ -->
    <param name="marker_stop_time" value="2.0"/>         <!-- ì •ì§€ ìœ ì§€ ì‹œê°„(ì´ˆ) -->

    <!-- ðŸ“‰ IMU ê¸°ìš¸ê¸° ê°ì†/ì •ì§€ -->
    <param name="tilt_start_deg" value="5.0"/>           <!-- 5Â° ì´ìƒ ê¸°ìš¸ë©´ ê°ì† ì‹œìž‘ -->
    <param name="tilt_max_deg" value="12.0"/>            <!-- 12Â°ì—ì„œ ìµœëŒ€ ê°ì† -->
    <param name="tilt_min_speed_factor" value="0.4"/>    <!-- ê°ì† ì‹œ ìµœì € ì†ë„ ë¹„ìœ¨ -->
    <param name="tilt_hardstop_deg" value="20.0"/>       <!-- 20Â° ë„˜ìœ¼ë©´ ì¦‰ì‹œ STOP -->

  </node>
</launch>
